<!DOCTYPE html>
<html>
  <head>
    <title>Askify</title>
  </head>
  <body>
    <h1><span style="color: GREEN">Askify</span> Upload PDF & Ask Questions</h1>

    <input type="file" id="pdf" />
    <button onclick="uploadPDF()">Upload PDF</button>

    <p id="uploadStatus"></p>

    <br /><br />

    <input type="text" id="query" placeholder="Ask something from PDF" />
    <button onclick="ask()">Ask</button>

    <p id="answer"></p>

    <script>
      async function uploadPDF() {
        const file = document.getElementById("pdf").files[0];

        let formData = new FormData();
        formData.append("file", file);

        let res = await fetch("http://localhost:8000/upload-pdf/", {
          method: "POST",
          body: formData,
        });

        let data = await res.json();
        document.getElementById("uploadStatus").innerText = data.status;
      }

      async function ask() {
        const query = document.getElementById("query").value;

        let formData = new FormData();
        formData.append("query", query);

        let res = await fetch("http://localhost:8000/ask/", {
          method: "POST",
          body: formData,
        });

        let data = await res.json();
        document.getElementById("answer").innerText = data.answer;
      }
    </script>
  </body>
</html>
